--- src/TerrariaNetCore/Terraria/GameContent/ItemDropRules/Conditions.cs
+++ src/tModLoader/Terraria/GameContent/ItemDropRules/Conditions.cs
@@ -1,9 +_,31 @@
+using Terraria.ID;
 using Terraria.Localization;
 
 namespace Terraria.GameContent.ItemDropRules
 {
 	public class Conditions
 	{
+		public class NotUsedDemonHeart : IItemDropRuleCondition, IProvideItemConditionDescription // TML
+		{
+			public bool CanDrop(DropAttemptInfo info) => !info.player.extraAccessory;
+			public bool CanShowItemDropInUI() => true;
+			public string GetConditionDescription() => null;
+		}
+
+		public class NoPortalGun : IItemDropRuleCondition, IProvideItemConditionDescription // TML
+		{
+			public bool CanDrop(DropAttemptInfo info) => !info.player.HasItem(ItemID.PortalGun);
+			public bool CanShowItemDropInUI() => true;
+			public string GetConditionDescription() => null;
+		}
+
+		public class IsPreHardmode : IItemDropRuleCondition, IProvideItemConditionDescription // TML
+		{
+			public bool CanDrop(DropAttemptInfo info) => !Main.hardMode;
+			public bool CanShowItemDropInUI() => true;
+			public string GetConditionDescription() => null;
+		}
+
 		public class NeverTrue : IItemDropRuleCondition, IProvideItemConditionDescription
 		{
 			public bool CanDrop(DropAttemptInfo info) => false;
@@ -659,12 +_,15 @@
 				return false;
 
 			switch (info.npc.type) {
+				case int _ when ID.NPCID.Sets.CannotDropSouls[info.npc.type]:
+				/*
 				case 1:
 				case 13:
 				case 14:
 				case 15:
 				case 121:
 				case 535:
+				*/
 					return false;
 				default:
 					if (!Main.hardMode || info.npc.lifeMax <= 1 || info.npc.friendly || (double)info.npc.position.Y <= Main.rockLayer * 16.0 || info.npc.value < 1f)
